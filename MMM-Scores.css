/* MMM-Scores.css */

/*--------------------------------------------------
  GLOBAL VARIABLES (easy tweaking)
--------------------------------------------------*/
:root {
  /* Global scale that can be overridden per-module */
  --box-scale: 1;

  /* ===== Scoreboard ===== */
  --scoreboard-card-width-base:            320px;
  --scoreboard-card-width-base-compact:    170px;
  --scoreboard-pad-block-base:         9px;
  --scoreboard-pad-inline-base:       14px;
  --scoreboard-gap-base:               8px;
  --scoreboard-status-font-base:      18px;
  --scoreboard-label-font-base:       12px;
  --scoreboard-team-font-base:        28px;
  --scoreboard-value-font-base:       32px;
  --scoreboard-metric-width-base:     56px;
  --scoreboard-nhl-logo-abbr-gap-base: 6px;
  --scoreboard-nhl-abbr-metric-gap-base: 14px;
  --scoreboard-placeholder-height-base: calc(184px * 0.9);

  --scoreboard-card-width:    calc(var(--scoreboard-card-width-base) * var(--box-scale));
  --scoreboard-height-scale:  0.9;
  --scoreboard-pad-block:     calc(var(--scoreboard-pad-block-base) * var(--box-scale) * var(--scoreboard-height-scale));
  --scoreboard-pad-inline:    calc(var(--scoreboard-pad-inline-base) * var(--box-scale));
  --scoreboard-gap:           calc(var(--scoreboard-gap-base) * var(--box-scale));
  --scoreboard-status-font:   calc((var(--scoreboard-status-font-base) + 2pt) * var(--box-scale) * var(--scoreboard-height-scale));
  --scoreboard-label-font:    calc((var(--scoreboard-label-font-base) + 2pt) * var(--box-scale) * var(--scoreboard-height-scale));
  --scoreboard-team-font:     calc((var(--scoreboard-team-font-base) + 2pt) * var(--box-scale) * var(--scoreboard-height-scale));
  --scoreboard-value-font:    calc((var(--scoreboard-value-font-base) + 2pt) * var(--box-scale) * var(--scoreboard-height-scale));
  --scoreboard-metric-width:  calc(var(--scoreboard-metric-width-base) * var(--box-scale));
  --scoreboard-nhl-logo-abbr-gap: calc(var(--scoreboard-nhl-logo-abbr-gap-base) * var(--box-scale));
  --scoreboard-nhl-abbr-metric-gap: calc(var(--scoreboard-nhl-abbr-metric-gap-base) * var(--box-scale));
  --scoreboard-placeholder-height: calc(var(--scoreboard-placeholder-height-base) * var(--box-scale) * var(--scoreboard-height-scale));
  --scoreboard-font-family: 'Times Square', Arial, sans-serif;

  --scoreboard-border-color: #4c4c4c;
  --scoreboard-border-live:  #c3941a;
  --scoreboard-card-radius:  12px;
  --scoreboard-card-shadow:  0 6px 12px rgba(0, 0, 0, 0.45);
  --scoreboard-background:   transparent;
  --scoreboard-header-bg:    transparent;
  --scoreboard-text:         #ffffff;
  --scoreboard-muted:        #8c8c8c;
  --scoreboard-value-color:  #ffd242;

  --matrix-gap-base:       12px;
  --matrix-gap:           calc(var(--matrix-gap-base) * var(--box-scale));

}

/*--------------------------------------------------
  Font face (Times Square, module-scoped usage below)
--------------------------------------------------*/
@font-face {
  font-family: 'Times Square';
  src: url('fonts/TimesSquare-m105.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/*--------------------------------------------------
  Module Header â€” keep DEFAULT MagicMirror font
--------------------------------------------------*/
.module-header {
  font-family: inherit;
  font-size: calc(1.2em + 1pt);
  font-weight: bold;
  margin: 0;
  border-bottom: none;
}

.scores-screen {
  font-family: var(--scoreboard-font-family);
}
/*--------------------------------------------------
  Scoreboard Grid
--------------------------------------------------*/

.games-layout {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: calc(var(--matrix-gap) * 1.25);
}

.games-matrix {
  display: grid;
  grid-template-columns: repeat(var(--games-matrix-columns, 1), minmax(0, var(--games-matrix-col-width, var(--scoreboard-card-width))));
  gap: var(--matrix-gap);
  margin: 0 auto;
  padding: 0;
  width: auto;
  justify-content: center;
  align-items: start;
}

.games-matrix.league-nfl,
.games-matrix.league-nhl,
.games-matrix.league-olympic_mhockey,
.games-matrix.league-olympic_whockey,
.games-matrix.league-nba {
  --scoreboard-card-width-base: var(--scoreboard-card-width-base-compact);
  --games-matrix-col-width: calc(var(--scoreboard-card-width-base) * var(--box-scale));
}

.games-matrix-cell {
  width: var(--games-matrix-col-width, var(--scoreboard-card-width));
  display: flex;
  align-items: stretch;
  text-align: left;
}

.games-matrix-cell.empty::before {
  content: "";
  display: block;
  width: 100%;
  height: var(--scoreboard-placeholder-height);
  border-radius: var(--scoreboard-card-radius);
  background: rgba(0, 0, 0, 0.55);
  box-shadow: inset 0 0 18px rgba(0, 0, 0, 0.6);
}

.games-matrix-cell > .scoreboard-card {
  width: 100%;
  margin: 0;
}

/*--------------------------------------------------
  NFL Bye Section
--------------------------------------------------*/
.bye-week-section {
  width: min(100%, var(--scoreboard-content-width, 100%));
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: calc(var(--matrix-gap) * 0.75);
}

.bye-week-title {
  font-size: calc(var(--scoreboard-label-font) + 1pt);
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--scoreboard-muted);
  font-weight: 600;
}

.bye-week-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: calc(var(--matrix-gap) * 0.75);
}

.bye-week-team {
  display: flex;
  align-items: center;
  gap: calc(var(--scoreboard-gap) * 0.75);
  padding: calc(var(--scoreboard-pad-block) * 0.9) calc(var(--scoreboard-pad-inline) * 0.9);
  border-radius: calc(var(--scoreboard-card-radius) * 0.6);
  background: rgba(0, 0, 0, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow: inset 0 0 16px rgba(0, 0, 0, 0.35);
  min-width: calc(var(--scoreboard-card-width) * 0.45);
}

.bye-week-team-logo {
  height: calc(var(--scoreboard-team-font) * 0.952);
  width: calc(var(--scoreboard-team-font) * 1.2);
  object-fit: contain;
  display: block;
  flex-shrink: 0;
}

.bye-week-team-text {
  display: flex;
  flex-direction: column;
  gap: calc(var(--scoreboard-gap) * 0.2);
  line-height: 1.1;
}

.bye-week-team-abbr {
  font-size: calc(var(--scoreboard-team-font) * 0.9 + 1pt);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  font-weight: 700;
}

.bye-week-team-name {
  font-size: calc(var(--scoreboard-label-font) * 1.05 + 1pt);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--scoreboard-muted);
  font-weight: 600;
}

/*--------------------------------------------------
  SCOREBOARD CARD
--------------------------------------------------*/
.font-default {
  --scoreboard-font-family: var(--font-primary, 'Roboto Condensed'), Arial, sans-serif;
}

.font-times-square {
  --scoreboard-font-family: 'Times Square', Arial, sans-serif;
}

.scoreboard-card {
  width: var(--scoreboard-card-width);
  max-width: 100%;
  border: 2px solid var(--scoreboard-border-color);
  border-radius: var(--scoreboard-card-radius);
  overflow: hidden;
  background: var(--scoreboard-background);
  box-shadow: var(--scoreboard-card-shadow);
  display: flex;
  flex-direction: column;
  font-family: var(--scoreboard-font-family);
  color: var(--scoreboard-text);
  --metric-count: 3;
}

.scoreboard-card.league-nfl,
.scoreboard-card.league-nhl,
.scoreboard-card.league-olympic_mhockey,
.scoreboard-card.league-olympic_whockey,
.scoreboard-card.league-nba {
  --scoreboard-card-width-base: var(--scoreboard-card-width-base-compact);
}

.scoreboard-card .scoreboard-header,
.scoreboard-card .scoreboard-row {
  display: grid;
  grid-template-columns: 1fr repeat(var(--metric-count), var(--scoreboard-metric-width));
  align-items: center;
  column-gap: var(--scoreboard-gap);
}

.scoreboard-card .scoreboard-header {
  background: var(--scoreboard-header-bg);
  padding: var(--scoreboard-pad-block) var(--scoreboard-pad-inline);
}


.scoreboard-card .scoreboard-status {
  font-size: calc(var(--scoreboard-status-font) + 1pt);
  letter-spacing: 0.08em;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: calc(var(--scoreboard-gap) * 0.75);
  flex-wrap: nowrap;
  row-gap: calc(var(--scoreboard-gap) * 0.25);
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
}

.scoreboard-card.league-nhl .scoreboard-header,
.scoreboard-card.league-olympic_mhockey .scoreboard-header,
.scoreboard-card.league-olympic_whockey .scoreboard-header {
  position: relative;
}

.scoreboard-card.league-nhl .scoreboard-status,
.scoreboard-card.league-olympic_mhockey .scoreboard-status,
.scoreboard-card.league-olympic_whockey .scoreboard-status {
  position: relative;
  z-index: 1;
  flex-wrap: nowrap;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: calc(var(--scoreboard-gap) * 0.5);
}

.scoreboard-card.league-nhl .scoreboard-header,
.scoreboard-card.league-olympic_mhockey .scoreboard-header,
.scoreboard-card.league-olympic_whockey .scoreboard-header {
  min-height: calc(var(--scoreboard-status-font) * 1.7);
}

.scoreboard-card .scoreboard-team-total-label {
  flex: 0 0 auto;
  margin-left: auto;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  font-size: calc(var(--scoreboard-label-font) * 0.9 + 1pt);
}

.scoreboard-card .scoreboard-status.live {
  color: var(--scoreboard-value-color);
}

.scoreboard-card .scoreboard-label {
  font-size: calc(var(--scoreboard-label-font) + 1pt);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  text-align: center;
  color: var(--scoreboard-muted);
  font-weight: 600;
}

.scoreboard-card.league-mlb .scoreboard-label {
  letter-spacing: 0;
}

.scoreboard-card.league-nhl .scoreboard-label,
.scoreboard-card.league-olympic_mhockey .scoreboard-label,
.scoreboard-card.league-olympic_whockey .scoreboard-label {
  display: none;
}

.scoreboard-card .scoreboard-body {
  background: transparent;
  display: flex;
  flex-direction: column;
}

.scoreboard-card .scoreboard-row {
  padding: var(--scoreboard-pad-block) var(--scoreboard-pad-inline);
}

.scoreboard-card .scoreboard-row + .scoreboard-row {
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

.scoreboard-card .scoreboard-team {
  display: flex;
  align-items: center;
  gap: calc(var(--scoreboard-team-font) * 0.25);
}

.scoreboard-card.league-nhl .scoreboard-team,
.scoreboard-card.league-olympic_mhockey .scoreboard-team,
.scoreboard-card.league-olympic_whockey .scoreboard-team {
  display: grid;
  grid-template-columns: calc(var(--scoreboard-team-font) * 1.2) minmax(0, 1fr);
  align-items: center;
  gap: var(--scoreboard-nhl-logo-abbr-gap);
  padding-right: var(--scoreboard-nhl-abbr-metric-gap);
}

.scoreboard-card.league-nhl .scoreboard-team {
  grid-template-columns: calc(var(--scoreboard-team-font) * 1.2) minmax(3ch, 1fr) auto;
  column-gap: calc(var(--scoreboard-nhl-logo-abbr-gap) * 1.25);
  padding-right: calc(var(--scoreboard-nhl-abbr-metric-gap) * 1.35);
}

.scoreboard-card .scoreboard-team-total {
  font-size: calc(var(--scoreboard-value-font) + 1pt);
  font-weight: 700;
  color: var(--scoreboard-text);
  margin-left: auto;
  line-height: 1;
}

.scoreboard-card .scoreboard-team-total.live {
  color: var(--scoreboard-value-color);
}

.scoreboard-card.is-preview .scoreboard-team-total {
  color: var(--scoreboard-muted);
}

.scoreboard-card .scoreboard-team-logo {
  height: calc(var(--scoreboard-team-font) * 0.9856);
  max-height: calc(var(--scoreboard-team-font) * 1.1088);
  width: calc(var(--scoreboard-team-font) * 1.2);
  object-fit: contain;
  display: block;
  flex-shrink: 0;
}

.scoreboard-card .scoreboard-team-logo.logo-missing {
  visibility: hidden;
}

.scoreboard-card .scoreboard-team-logo[src*="/SD.png"],
.scoreboard-card .scoreboard-team-logo[src*="/MIN.png"],
.scoreboard-card .scoreboard-team-logo[src*="/NYY.png"],
.scoreboard-card .scoreboard-team-logo[src*="/DET.png"],
.scoreboard-card .scoreboard-team-logo[src*="/KC.png"],
.scoreboard-card .scoreboard-team-logo[src*="/ATH.png"] {
  filter: brightness(1.2);
}

.scoreboard-card .scoreboard-team-logo[src*="/WSH.png"] {
  height: auto;
  width: calc(var(--scoreboard-team-font) * 1.2);
  max-height: calc(var(--scoreboard-team-font) * 1.1088);
}

.scoreboard-card.league-nhl .scoreboard-team-logo[src*="/WSH.png"],
.scoreboard-card.league-olympic_mhockey .scoreboard-team-logo[src*="/WSH.png"],
.scoreboard-card.league-olympic_whockey .scoreboard-team-logo[src*="/WSH.png"] {
  height: calc(var(--scoreboard-team-font) * 0.9856);
  width: auto;
  max-height: calc(var(--scoreboard-team-font) * 1.1088);
}

.scoreboard-card .scoreboard-team-abbr {
  font-size: calc(var(--scoreboard-team-font) + 1pt);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  line-height: 1;
  font-weight: 600;
  text-align: left;
  position: relative;
}

.scoreboard-card.league-mlb .scoreboard-team-abbr {
  width: 5ch;
  overflow: hidden;
  text-overflow: ellipsis;
}

.scoreboard-card.league-mlb .scoreboard-team-abbr.scoreboard-team-abbr-cubs {
  letter-spacing: 0;
  text-overflow: clip;
}

.scoreboard-card.league-nhl .scoreboard-team-abbr,
.scoreboard-card.league-olympic_mhockey .scoreboard-team-abbr,
.scoreboard-card.league-olympic_whockey .scoreboard-team-abbr {
  justify-self: start;
  width: 100%;
}

.scoreboard-card.league-nhl .scoreboard-team-total {
  margin-left: 0;
  justify-self: end;
  min-width: 2ch;
  text-align: right;
}

.scoreboard-card .scoreboard-team-abbr .scoreboard-possession-icon {
  position: absolute;
  top: 50%;
  left: 100%;
  transform: translate(0.2em, -50%);
  margin: 0;
  font-size: calc((var(--scoreboard-team-font) + 1pt) * 0.3);
  line-height: 1;
  display: inline-block;
  vertical-align: middle;
}

.scoreboard-card .scoreboard-value {
  font-size: calc(var(--scoreboard-value-font) + 1pt);
  text-align: center;
  font-variant-numeric: tabular-nums;
  color: var(--scoreboard-text);
  line-height: 1;
  font-weight: 700;
}

.scoreboard-card.league-mlb .scoreboard-header,
.scoreboard-card.league-mlb .scoreboard-row {
  column-gap: calc(var(--scoreboard-gap) * 0.4);
}

.scoreboard-card.league-mlb .scoreboard-status {
  overflow: visible;
}

.scoreboard-card .scoreboard-value.live {
  color: var(--scoreboard-value-color);
}

.scoreboard-value-superscript {
  font-size: calc(0.55em + 1pt);
  margin-left: 0.25em;
  vertical-align: super;
  font-weight: 600;
  color: var(--scoreboard-muted);
}

.scoreboard-card.league-nhl .scoreboard-value.shots-on-goal-value sup,
.scoreboard-card.league-olympic_mhockey .scoreboard-value.shots-on-goal-value sup,
.scoreboard-card.league-olympic_whockey .scoreboard-value.shots-on-goal-value sup {
  color: var(--scoreboard-text);
}

.scoreboard-card.league-nfl .scoreboard-header,
.scoreboard-card.league-nfl .scoreboard-row {
  justify-items: stretch;
}

.scoreboard-card.league-nfl .scoreboard-status {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: calc(var(--scoreboard-gap) * 0.5);
  width: 100%;
}

.scoreboard-card.league-nfl .scoreboard-team {
  width: 100%;
  flex-wrap: nowrap;
}

.scoreboard-card.league-nfl .scoreboard-team-record {
  font-size: calc(var(--scoreboard-status-font) + 1pt);
  color: var(--scoreboard-muted);
  margin-left: calc(var(--scoreboard-gap) * 0.45);
  white-space: nowrap;
  line-height: 1.1;
}

.scoreboard-card.league-nfl .scoreboard-header .scoreboard-status,
.scoreboard-card.league-nfl .scoreboard-row .scoreboard-team {
  justify-self: start;
}

.font-times-square .scoreboard-card .scoreboard-status,
.font-times-square .scoreboard-card .scoreboard-label,
.font-times-square .scoreboard-card .scoreboard-team-abbr,
.font-times-square .scoreboard-card .scoreboard-value {
  font-weight: 400;
}

.scoreboard-card.is-live {
  border-color: var(--scoreboard-border-live);
  box-shadow: 0 0 18px rgba(255, 210, 66, 0.25);
}

.scoreboard-card.is-preview {
  border-color: #505050;
}

.scoreboard-card.is-preview .scoreboard-status {
  color: var(--scoreboard-muted);
}

.scoreboard-card.is-preview .scoreboard-value {
  color: var(--scoreboard-muted);
}

.scoreboard-card.is-postponed,
.scoreboard-card.is-suspended {
  border-color: #4a4a4a;
  box-shadow: none;
}

.scoreboard-card.is-postponed .scoreboard-status,
.scoreboard-card.is-postponed .scoreboard-value,
.scoreboard-card.is-suspended .scoreboard-status,
.scoreboard-card.is-suspended .scoreboard-value {
  color: var(--scoreboard-muted);
}

.scoreboard-card.is-warmup .scoreboard-status {
  color: var(--scoreboard-value-color);
}

.scoreboard-card .scoreboard-row.loser .scoreboard-team {
  color: rgba(255, 255, 255, 0.6);
}

.scoreboard-card .scoreboard-row.loser .scoreboard-value {
  color: rgba(255, 255, 255, 0.55);
}

.scoreboard-card .scoreboard-row.loser .scoreboard-team-total {
  color: rgba(255, 255, 255, 0.55);
}

.scoreboard-card .scoreboard-row.loser .scoreboard-value.live {
  color: var(--scoreboard-value-color);
}

/* Highlighted team */
.scoreboard-card .team-highlight,
.scoreboard-card .team-highlight ~ .scoreboard-value.live {
  color: var(--scoreboard-value-color) !important;
}
